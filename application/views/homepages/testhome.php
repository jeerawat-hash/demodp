  <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">




  <!-- ======= Hero Section ======= -->
  <section id="hero">
    <div id="heroCarousel" class="carousel slide carousel-fade" data-ride="carousel">

      <div class="carousel-inner" role="listbox">

        <!-- Slide 1 -->
        <div class="carousel-item active" style="background-image: url(https://demo.jantra.co/AssetsHome/img/slide/slide-1.jpg);">
          <div class="carousel-container">
            <div class="carousel-content animate__animated animate__fadeInUp">
              <h2>เนื้อหา</h2>
              <p>Ut velit est quam dolor ad a aliquid qui aliquid. Sequi ea ut et est quaerat sequi nihil ut aliquam. Occaecati alias dolorem mollitia ut. Similique ea voluptatem. Esse doloremque accusamus repellendus deleniti vel. Minus et tempore modi architecto.</p>
              <div class="text-center"><a href="" class="btn-get-started">ดูเพิ่มเติม</a></div>
            </div>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item" style="background-image: url(https://demo.jantra.co/AssetsHome/img/slide/slide-2.jpg);">
          <div class="carousel-container">
            <div class="carousel-content animate__animated animate__fadeInUp">
              <h2>เนื้อหา</h2>
              <p>Ut velit est quam dolor ad a aliquid qui aliquid. Sequi ea ut et est quaerat sequi nihil ut aliquam. Occaecati alias dolorem mollitia ut. Similique ea voluptatem. Esse doloremque accusamus repellendus deleniti vel. Minus et tempore modi architecto.</p>
              <div class="text-center"><a href="" class="btn-get-started">ดูเพิ่มเติม</a></div>
            </div>
          </div>
        </div>

        <!-- Slide 3 -->
        <div class="carousel-item" style="background-image: url(https://demo.jantra.co/AssetsHome/img/slide/slide-3.jpg);">
          <div class="carousel-container">
            <div class="carousel-content animate__animated animate__fadeInUp">
              <h2>เนื้อหา</h2>
              <p>Ut velit est quam dolor ad a aliquid qui aliquid. Sequi ea ut et est quaerat sequi nihil ut aliquam. Occaecati alias dolorem mollitia ut. Similique ea voluptatem. Esse doloremque accusamus repellendus deleniti vel. Minus et tempore modi architecto.</p>
              <div class="text-center"><a href="" class="btn-get-started">ดูเพิ่มเติม</a></div>
            </div>
          </div>
        </div>

      </div>

      <a class="carousel-control-prev" href="#heroCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon bx bx-left-arrow" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>

      <a class="carousel-control-next" href="#heroCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon bx bx-right-arrow" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>

      <ol class="carousel-indicators" id="hero-carousel-indicators"></ol>

    </div>
  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= Cta Section ======= -->
    <section id="cta" class="cta">
      <div class="container">

        <div class="row">
          <div class="col-lg-9 text-center text-lg-left">
            <h3>วิสัยทัศน์ </h3>
            <p> “เป็นองค์กรหลักในการขับเคลื่อนและส่งเสริมให้คนพิการเข้าถึงสิทธิ สวัสดิการ อย่างทั่วถึงและเท่าเทียม สู่ระดับสากล” </p>
          </div>
          <div class="col-lg-3 cta-btn-container text-center">
            <a class="cta-btn align-middle" href="about.html">ดูรายละเอียด</a>
          </div>
        </div>

      </div>
    </section><!-- End Cta Section -->

    <!-- ======= Services Section ======= -->
    <section id="services" class="services">
      <div class="container">

        <div class="section-title" data-aos="fade-up">
          <h2>บริการฝึกอาชีพ/สวัสดิการ/สิทธิ</h2>
        </div>

        <div class="row">
         
 

          <div class="col-lg-4 col-md-6">
            <div class="icon-box" data-aos="fade-up">
              <div class="icon"><i class="icofont-computer"></i></div>
              <h4 class="title"><a href="">Lorem Ipsum</a></h4>
              <p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="100">
              <div class="icon"><i class="icofont-chart-bar-graph"></i></div>
              <h4 class="title"><a href="">Dolor Sitema</a></h4>
              <p class="description">Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat tarad limino ata</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="200">
              <div class="icon"><i class="icofont-earth"></i></div>
              <h4 class="title"><a href="">Sed ut perspiciatis</a></h4>
              <p class="description">Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="200">
              <div class="icon"><i class="icofont-image"></i></div>
              <h4 class="title"><a href="">Magni Dolores</a></h4>
              <p class="description">Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="300">
              <div class="icon"><i class="icofont-settings"></i></div>
              <h4 class="title"><a href="">Nemo Enim</a></h4>
              <p class="description">At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="400">
              <div class="icon"><i class="icofont-tasks-alt"></i></div>
              <h4 class="title"><a href="">Eiusmod Tempor</a></h4>
              <p class="description">Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi</p>
            </div>
          </div>
        </div>  

      </div>
    </section><!-- End Services Section -->



  <!-- ======= Services Section ======= -->
    <section id="services" class="services">
      <div class="container">

        <div class="section-title" data-aos="fade-up">
          <h2>วิดีโอ</h2>
        </div>

        <div class="row">
         
 

          <div class="col-lg-4 col-md-6">

 

            <div class="container-player">
               <div id="mediaPlayer">
                  <div class="lds-ring" id=preload><div></div><div></div><div></div><div></div></div>
            <video id='media-video' preload>
                <source  src="https://www.html5rocks.com/en/tutorials/video/basics/devstories.mp4" type='video/mp4'>
                <source src='parrots.webm' type='video/webm'>
            </video>
                <div id="controls">
                    <button id=play><i class="fas fa-pause"></i></button>
                    <button id=audioVolume class="fas fa-volume-off"></button>
                    <div id="progressBar">
                        <div id="progress"></div>
                    </div>
                    <div id="timer">
                        <span id="start"> 0 : 00</span>
                    </div>
                    <button id=expand><i class="fas fa-expand"></i></button>
                </div>
              </div>
              <div id="playlist">  
               </div>
             </div>



          </div>
          
        </div>
      </div>


    </section><!-- End Services Section -->





    <!-- ======= Portfolio Section ======= -->
    <section id="portfolio" class="portfolio">
      <div class="container">

        <div class="section-title" data-aos="fade-up">
          <h2>โครงการตัวอย่าง</h2>
        </div>

        <div class="row" data-aos="fade-up">
          <div class="col-lg-12 d-flex justify-content-center">
            <ul id="portfolio-flters">
              <li data-filter="*" class="filter-active">All</li>
              <li data-filter=".filter-app">App</li>
              <li data-filter=".filter-card">Card</li>
              <li data-filter=".filter-web">Web</li>
            </ul>
          </div>
        </div>

        <div class="row portfolio-container" data-aos="fade-up">

          <div class="col-lg-4 col-md-6 portfolio-item filter-app">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-1.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>App 1</h4>
              <p>App</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-1.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="App 1"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-web">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-2.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>Web 3</h4>
              <p>Web</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-2.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Web 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-app">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-3.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>App 2</h4>
              <p>App</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-3.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="App 2"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-card">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-4.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>Card 2</h4>
              <p>Card</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-4.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Card 2"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-web">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-5.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>Web 2</h4>
              <p>Web</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-5.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Web 2"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-app">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-6.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>App 3</h4>
              <p>App</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-6.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="App 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-card">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-7.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>Card 1</h4>
              <p>Card</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-7.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Card 1"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-card">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-8.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>Card 3</h4>
              <p>Card</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-8.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Card 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-web">
            <img src="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-9.jpg" class="img-fluid" alt="">
            <div class="portfolio-info">
              <h4>Web 3</h4>
              <p>Web</p>
              <a href="https://demo.jantra.co/AssetsHome/img/portfolio/portfolio-9.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Web 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Portfolio Section -->

    <!-- ======= Our Clients Section ======= -->
    <section id="clients" class="clients">
      <div class="container">

        <div class="section-title" data-aos="fade-up">
          <h2>หน่วยงานที่เกี่ยวข้อง</h2>
          <p>เนื้อหา.....</p>
        </div>

        <div class="row no-gutters clients-wrap clearfix" data-aos="fade-up">

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-1.png" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-2.png" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-3.png" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-4.png" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-5.png" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-6.png" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-7.png" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-3 col-md-4 col-xs-6">
            <div class="client-logo">
              <img src="https://demo.jantra.co/AssetsHome/img/clients/client-8.png" class="img-fluid" alt="">
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Our Clients Section -->

  </main><!-- End #main -->


 <!-- demo -->

 
 <!-- END DEMO -->

<script type="text/javascript">
  var player = (function() {//Namespace todo lo que esta aqui dentro es privado
    var play        = document.getElementById("play"),
        fullscreen  = document.getElementById("expand"),
        playlist    = document.getElementById("playlist"),
        audioVolume = document.getElementById("audioVolume"),
        progress    = document.getElementById('progress'),
        start       = document.getElementById('start'),
        finish      = document.getElementById('finish'),
        preload     = document.getElementById('preload');

    var mediaPlayer, // global para que los listener sepan el estado a modificar
        currentTrack = "0", // que video se esta reproduciendo ahora.
         videos, videoNodes;
    
    play.addEventListener("click", (e) => {
        if (mediaPlayer.paused || mediaPlayer.ended)  {
            e.target.setAttribute("class", "fas fa-pause");
            mediaPlayer.play();
        } else  {
            mediaPlayer.pause();
            e.target.setAttribute("class", "fas fa-play");
        }
    });

    audioVolume.addEventListener("click", (e) => {
        if(mediaPlayer.muted) {
            e.target.setAttribute('class', 'fas fa-volume-up')
            mediaPlayer.muted = !mediaPlayer.muted;
        }else {
            e.target.setAttribute('class', 'fas fa-volume-off')
            mediaPlayer.muted = !mediaPlayer.muted;
        }
    });

    fullscreen.addEventListener("click", () => {
        if      (mediaPlayer.requestFullscreen)        mediaPlayer.requestFullscreen();
        else if (mediaPlayer.webkitRequestFullscreen)  mediaPlayer.webkitRequestFullscreen();
        else if (mediaPlayer.mozRequestFullScreen)     mediaPlayer.mozRequestFullScreen();
        else if (mediaPlayer.msRequestFullscreen)      mediaPlayer.msRequestFullscreen();
    });

    playlist.addEventListener("click", function(e) {
        var target = e.target;

        if (target.id != "playlist") {
            var id = target.closest(".video").id,
                el = target.closest(".video");
            
            preload.classList.add('lds-ring');
            higlight(id, currentTrack.toString());
            set( videos[id].source)
            mediaPlayer.addEventListener('canplay',videoIsReady)
        }
    });

    function set(video) {
        mediaPlayer.src = video;
    }
    /**
     * @param {*} e
     */
    function handleProgress(e) {
        var minutes = Math.floor(mediaPlayer.currentTime / 60),
            seconds = Math.floor(mediaPlayer.currentTime - minutes * 60),
            x  = minutes < 10 ? "0" + minutes : minutes,
            y  = seconds < 10 ? "0" + seconds : seconds;
    
        progress.style.width = Number(this.currentTime / this.duration * 100) + "%";
        start.textContent = x + " : " + y;
    }
  
    /**
     * 
     * @param {*} event
     */
    function togglePlay(event){
        event.preventDefault();
        if (mediaPlayer.paused || mediaPlayer.ended)  mediaPlayer.play();
        else  mediaPlayer.pause();
    }

    /**
     * Create
     * @param {object} itemList
     * @returns un Nodo que representa el objeto siendo pasado
     * Rturns a Node representation of the object 
     */
    function create(itemList) {
        var div             = document.createElement("div"),
            imageContainer  = document.createElement("div"),
            videoIformation = document.createElement("idv"),
            img             = document.createElement("img"),
            title           = document.createElement('p'),
            duration        = document.createElement("span");

            div.setAttribute("id", itemList.id)
            div.setAttribute("class", "video");

            imageContainer.setAttribute("class", "video-imagen")
                img.setAttribute("src", itemList.img);
                imageContainer.appendChild(img);
                div.appendChild(imageContainer);

            videoIformation.setAttribute("class", "video-information");
                title.textContent   = itemList.name;
                duration.textContent = itemList.duration;
                videoIformation.appendChild(title);
                videoIformation.appendChild(duration);
                
         div.appendChild(videoIformation);

        return div;
    }

    /**
     * Recibe un array de objetos y devuelve su representacion en un Nodos HTML
     * Returns an Node Collection
     * @param {playlist : arreglo de objetos} 
     */
    function loadList(playlist) {
        var domPlayList  = document.getElementById('playlist'),
            fragmentList = document.createDocumentFragment();

        for(let video of playlist) 
            fragmentList.appendChild(create(video))
    
        domPlayList.appendChild(fragmentList)
        videoNodes = document.querySelectorAll('.video'); /* Hace disponible los nodos para manipular Una vex cargados */
    }

    function videoIsReady(event) {
        preload.classList.remove('lds-ring');
        mediaPlayer.play();
    }

    function higlight(current, lastTrack) {
        if( lastTrack) {
            videoNodes[lastTrack].classList.remove("playing");
            videoNodes[current].classList.add("playing");
        } else {
            videoNodes[current].classList.add("playing");
        }        
        currentTrack = current;
    }

    var getVideos = function(){
        //carga los videos por primera vez
        getJSON('../source/videos.json', function(response){
            videos = response;
            loadList(videos)
            higlight(currentTrack);       
        });
    }
    
    /************************************
     * xmlHtppRequest del json local
    *************************************/
    function getJSON(url, callback){
        var request = new XMLHttpRequest();
        request.open('GET', url, true);

        request.onload = function() {
            if (request.status >= 200 && request.status < 400) {
                var data = JSON.parse(request.responseText);
                callback(data);
            }
        };

        request.onerror = function() {
        // There was a connection error of some sort
            console.error("there was an error")
        };

        request.send();
    }
    /**************************
     * Public
     *******************/
    return {
        init : function() {
            //configura el reproductor por primera vez, previene algun cambio en el css
            mediaPlayer          = document.getElementById("media-video");
            mediaPlayer.controls = false;
            mediaPlayer.muted    = true; 
            getVideos();
            //cuando el video pueda reproducirse elimina el preloader css
            mediaPlayer.addEventListener('canplay', videoIsReady)
            mediaPlayer.addEventListener('timeupdate', handleProgress)
            mediaPlayer.addEventListener('click', togglePlay)
        }
    }
})();


document.addEventListener(
    "DOMContentLoaded",
    () =>  {
        player.init();
    },
    false
);

</script>